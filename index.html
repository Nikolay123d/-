here<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ü—Ä–∞–≥–∞ –§—É—à–∫–∏ ‚Äî –î–æ–ø–æ–º–æ–≥–∞ —É–∫—Ä–∞—ó–Ω—Ü—è–º</title>

<style>
  /* –°–±—Ä–æ—Å –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
  * {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('https://i.ibb.co/fbpjfnm/Prague.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #222;
  }
  #app {
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: rgba(255 255 255 / 0.85);
    backdrop-filter: blur(10px);
    max-width: 900px;
    margin: auto;
  }
  header {
    display: flex;
    justify-content: center;
    background: #ffc107;
  }
  header button {
    flex: 1;
    padding: 15px 0;
    border: none;
    background: transparent;
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  header button.active {
    background: #ff9800;
    color: white;
  }
  main {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  /* –í–∫–ª–∞–¥–∫–∏ */
  section {
    display: none;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
  }
  section.active {
    display: flex;
  }

  /* –ß–∞—Ç */
  #chat {
    padding: 10px;
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  #chat .greeting {
    font-size: 14px;
    color: #444;
    text-align: center;
    margin-bottom: 10px;
    font-weight: 600;
  }
  #messages {
    flex: 1;
    background: #fff;
    border-radius: 8px;
    padding: 10px;
    overflow-y: auto;
    font-size: 15px;
    line-height: 1.3;
  }
  .message {
    margin-bottom: 10px;
    max-width: 80%;
    word-wrap: break-word;
  }
  .message.sent {
    background: #dcf8c6;
    margin-left: auto;
    border-radius: 12px 12px 0 12px;
    padding: 8px 12px;
  }
  .message.received {
    background: #ececec;
    margin-right: auto;
    border-radius: 12px 12px 12px 0;
    padding: 8px 12px;
  }
  .message img {
    max-width: 180px;
    max-height: 180px;
    border-radius: 8px;
    display: block;
    margin-top: 5px;
  }

  #input-area {
    margin-top: 10px;
    display: flex;
    gap: 8px;
  }
  #text-input {
    flex: 1;
    padding: 8px 12px;
    font-size: 16px;
    border: 2px solid #ccc;
    border-radius: 8px;
  }
  #file-input {
    display: none;
  }
  #file-label {
    background: #ffc107;
    padding: 10px 12px;
    border-radius: 8px;
    cursor: pointer;
    user-select: none;
  }
  #send-btn {
    background: #ff9800;
    border: none;
    padding: 10px 16px;
    color: white;
    font-weight: 700;
    border-radius: 8px;
    cursor: pointer;
  }

  /* –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ */
  #register-modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.5);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  #register-modal.active {
    display: flex;
  }
  #register-form {
    background: white;
    padding: 20px 30px;
    border-radius: 12px;
    max-width: 320px;
    width: 100%;
    box-shadow: 0 0 10px rgba(0,0,0,0.25);
  }
  #register-form h2 {
    margin-top: 0;
    margin-bottom: 15px;
    font-weight: 700;
    color: #333;
  }
  #register-form label {
    display: block;
    font-weight: 600;
    margin-bottom: 6px;
  }
  #register-form input {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 12px;
    font-size: 15px;
    border: 1.5px solid #ccc;
    border-radius: 6px;
  }
  #register-form button {
    width: 100%;
    background: #ff9800;
    border: none;
    padding: 12px;
    font-weight: 700;
    font-size: 16px;
    color: white;
    border-radius: 8px;
    cursor: pointer;
  }
  #register-error {
    color: red;
    margin-bottom: 10px;
    min-height: 20px;
  }

  /* –ö–∞—Ä—Ç–∞ */
  #map-section {
    flex: 1;
    height: 100%;
  }
  #map {
    height: 100%;
    border-radius: 10px;
  }

  /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
  #info-section {
    padding: 10px 15px;
    overflow-y: auto;
    flex: 1;
    font-size: 15px;
    color: #222;
  }
  #info-section h2 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #ff9800;
  }
  #info-section img {
    max-width: 100%;
    margin: 10px 0;
    border-radius: 8px;
  }

  /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
  @media (max-width: 600px) {
    header button {
      font-size: 14px;
      padding: 12px 0;
    }
    #text-input {
      font-size: 14px;
    }
    #register-form {
      max-width: 90vw;
    }
  }
</style>

<!-- Leaflet CSS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-sA+eQb8OB0SvY8Vw7Kw1RG+KhX1GXx0bS5MjP9G4QvE="
  crossorigin=""
/>

</head>
<body>
<div id="app">
  <header>
    <button id="tab-chat" class="active" data-tab="chat">–ß–∞—Ç</button>
    <button id="tab-map" data-tab="map-section">–ö–∞—Ä—Ç–∞ –¥–æ–ø–æ–º–æ–≥–∏</button>
    <button id="tab-info" data-tab="info-section">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</button>
  </header>

  <main>
    <section id="chat" class="active">
      <div class="greeting">
        –®–∞–Ω–æ–≤–Ω—ñ —É–∫—Ä–∞—ó–Ω—Ü—ñ, —Ü–µ–π —Å–∞–π—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π, —â–æ–± –¥–æ–ø–æ–º–∞–≥–∞—Ç–∏ –Ω–∞—à–∏–º —Å–ø—ñ–≤–≤—ñ—Ç—á–∏–∑–Ω–∏–∫–∞–º.
      </div>
      <div id="messages"></div>
      <div id="input-area">
        <input type="text" id="text-input" placeholder="–í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..." autocomplete="off" />
        <label id="file-label" for="file-input" title="–î–æ–¥–∞—Ç–∏ —Ñ–æ—Ç–æ üì∑">üì∑</label>
        <input type="file" id="file-input" accept="image/*" />
        <button id="send-btn">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
      </div>
    </section>

    <section id="map-section">
      <div id="map"></div>
    </section>

    <section id="info-section">
      <h2>–ö–æ—Ä–∏—Å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤ —É –ü—Ä–∞–∑—ñ</h2>
      <p>
        –¢—É—Ç –∑—ñ–±—Ä–∞–Ω–∞ –≤–∞–∂–ª–∏–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è: –ª—ñ–∫–∞—Ä–Ω—ñ, –∞–ø—Ç–µ–∫–∏, —Å–æ—Ü—ñ–∞–ª—å–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞, –º–∞–≥–∞–∑–∏–Ω–∏ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏, —é—Ä–∏–¥–∏—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞.
      </p>
      <img src="https://cdn.pixabay.com/photo/2015/12/08/00/39/prague-1081770_1280.jpg" alt="–ü—Ä–∞–∑—å–∫–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞" />
      <p>
        –í–æ–ª–æ–Ω—Ç–µ—Ä—Å—å–∫—ñ —Ü–µ–Ω—Ç—Ä–∏, —Ü–µ–Ω—Ç—Ä–∏ –¥–æ–ø–æ–º–æ–≥–∏ –±—ñ–∂–µ–Ω—Ü—è–º, —Ä–æ–±–æ—Ç–∞ —Ç–∞ –æ—Å–≤—ñ—Ç–∞ ‚Äî –≤—Å–µ, —â–æ –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º.
      </p>
      <img src="https://cdn.pixabay.com/photo/2017/03/05/22/08/prague-2128449_1280.jpg" alt="–í—É–ª–∏—Ü—ñ –ü—Ä–∞–≥–∏" />
      <p>–ó–∞–ª–∏—à–∞–π—Ç–µ—Å—å –Ω–∞ –∑–≤‚Äô—è–∑–∫—É —Ç–∞ –±–µ—Ä–µ–∂—ñ—Ç—å —Å–µ–±–µ!</p>
    </section>
  </main>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
<div id="register-modal">
  <form id="register-form">
    <h2>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h2>
    <div id="register-error"></div>
    <label for="nick">–ù—ñ–∫–Ω–µ–π–º</label>
    <input type="text" id="nick" name="nick" required autocomplete="off" />
    <label for="email">Email</label>
    <input type="email" id="email" name="email" required autocomplete="off" />
    <label for="password">–ü–∞—Ä–æ–ª—å</label>
    <input type="password" id="password" name="password" required autocomplete="off" />
    <button type="submit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</button>
  </form>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<!-- Leaflet JS -->
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-o9N1jQ9z4H+Qv8JdSx5FuyZ2X0vZxn8zLg9i0B80+gI="
  crossorigin=""
></script>

<script>
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDV2BslF-Ll37a1XO3GEfzNMXa7YsSXL1o",
    authDomain: "web-app-b4633.firebaseapp.com",
    projectId: "web-app-b4633",
    storageBucket: "web-app-b4633.appspot.com",
    messagingSenderId: "1041887915171",
    appId: "1:1041887915171:web:84d62eae54e9291b47a316",
    measurementId: "G-C65BPE81SJ"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
  const tabs = document.querySelectorAll('header button');
  const sections = document.querySelectorAll('main section');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const target = tab.dataset.tab;
      sections.forEach(sec => {
        sec.classList.toggle('active', sec.id === target);
      });
    });
  });

  // –≠–ª–µ–º–µ–Ω—Ç—ã —á–∞—Ç–∞
  const messagesContainer = document.getElementById('messages');
  const textInput = document.getElementById('text-input');
  const fileInput = document.getElementById('file-input');
  const sendBtn = document.getElementById('send-btn');

  // –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  const registerModal = document.getElementById('register-modal');
  const registerForm = document.getElementById('register-form');
  const registerError = document.getElementById('register-error');

  // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  let currentUser = null;
  let hasRegistered = localStorage.getItem('registered') === 'true';

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ Firestore
  async function loadMessages() {
    messagesContainer.innerHTML = '';
    if (!currentUser) return;
    const snapshot = await db.collection('messages').orderBy('timestamp').get();
    snapshot.forEach(doc => {
      const data = doc.data();
      addMessageToDOM(data.text, data.imageUrl, data.userNick, data.userId === currentUser.uid);
    });
    scrollMessagesToBottom();
  }

  function addMessageToDOM(text, imageUrl, userNick, isCurrentUser) {
    const div = document.createElement('div');
    div.className = 'message ' + (isCurrentUser ? 'sent' : 'received');
    let content = `<strong>${userNick || '–ê–Ω–æ–Ω—ñ–º'}</strong>: `;
    if(text) content += text;
    if(imageUrl) content += `<br><img src="${imageUrl}" alt="–§–æ—Ç–æ" />`;
    div.innerHTML = content;
    messagesContainer.appendChild(div);
  }

  function scrollMessagesToBottom() {
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
  async function sendMessage(text, file) {
    if (!currentUser) return;
    let imageUrl = null;
    if (file) {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Firebase Storage
      const storageRef = firebase.storage().ref();
      const fileRef = storageRef.child(`images/${Date.now()}_${file.name}`);
      await fileRef.put(file);
      imageUrl = await fileRef.getDownloadURL();
    }
    await db.collection('messages').add({
      text: text || '',
      imageUrl: imageUrl || null,
      userId: currentUser.uid,
      userNick: currentUser.displayName || '–ê–Ω–æ–Ω—ñ–º',
      timestamp: firebase.firestore.FieldValue.serverTimestamp()
    });
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  auth.onAuthStateChanged(user => {
    if (user) {
      currentUser = user;
      hasRegistered = true;
      localStorage.setItem('registered', 'true');
      registerModal.classList.remove('active');
      loadMessages();
    } else {
      currentUser = null;
      if (hasRegistered) {
        // –ï—Å–ª–∏ –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–æ –≤—ã—à–µ–ª ‚Äî –ø–æ–∫–∞–∂–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —Å–Ω–æ–≤–∞
        registerModal.classList.add('active');
      }
    }
  });

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
  sendBtn.onclick = async () => {
    const text = textInput.value.trim();
    const file = fileInput.files[0];
    if (!text && !file) return;

    if (!currentUser && !hasRegistered) {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
      registerModal.classList.add('active');
      return;
    }

    try {
      await sendMessage(text, file);
      textInput.value = '';
      fileInput.value = null;
      await loadMessages();
    } catch (error) {
      alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: ' + error.message);
    }
  };

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  registerForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    registerError.textContent = '';
    const nick = registerForm.nick.value.trim();
    const email = registerForm.email.value.trim();
    const password = registerForm.password.value.trim();
    if (!nick || !email || !password) {
      registerError.textContent = '–í—Å—ñ –ø–æ–ª—è –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ.';
      return;
    }
    try {
      const userCredential = await auth.createUserWithEmailAndPassword(email, password);
      await userCredential.user.updateProfile({ displayName: nick });
      currentUser = userCredential.user;
      hasRegistered = true;
      localStorage.setItem('registered', 'true');
      registerModal.classList.remove('active');
      loadMessages();
    } catch (err) {
      registerError.textContent = err.message;
    }
  });

  // –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∞–π–ª–∞ - –ø—Ä–æ–≤–µ—Ä–∫–∞
  fileInput.onchange = () => {
    if (fileInput.files[0] && !fileInput.files[0].type.startsWith('image/')) {
      alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.');
      fileInput.value = '';
    }
  };

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã Leaflet
  const map = L.map('map').setView([50.0755, 14.4378], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution:
      '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
  }).addTo(map);

  // –ü—Ä–∏–º–µ—Ä —Ç–æ—á–µ–∫ (—Ä–∞—Å—à–∏—Ä—å —Å–ø–∏—Å–æ–∫ –ø–æ –∂–µ–ª–∞–Ω–∏—é)
  const points = [
    { name: '–õ—ñ–∫–∞—Ä–Ω—è –ú–æ—Ç–æ–ª', lat: 50.0737, lng: 14.3456 },
    { name: '–ü–æ–ª—ñ–∫–ª—ñ–Ω—ñ–∫–∞ –ü—Ä–∞–≥–∞ 1', lat: 50.082, lng: 14.423 },
    { name: 'OAMP –ü—Ä–∞–≥–∞ 1', lat: 50.087, lng: 14.423 },
    { name: '–í–æ–ª–æ–Ω—Ç–µ—Ä—Å—å–∫–∏–π —Ü–µ–Ω—Ç—Ä Pomoc', lat: 50.081, lng: 14.449 },
    { name: '–ú–∞–≥–∞–∑–∏–Ω Pomoc', lat: 50.073, lng: 14.418 },
    { name: '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è Pravda', lat: 50.085, lng: 14.420 },
    { name: '–ê–ø—Ç–µ–∫–∞ ABC', lat: 50.076, lng: 14.421 },
    { name: '–¶–µ–Ω—Ç—Ä –¥–æ–ø–æ–º–æ–≥–∏ –±—ñ–∂–µ–Ω—Ü—è–º', lat: 50.080, lng: 14.430 },
    { name: '–ü—É–Ω–∫—Ç –≤–∏–¥–∞—á—ñ –≥—É–º–∞–Ω—ñ—Ç–∞—Ä–Ω–æ—ó –¥–æ–ø–æ–º–æ–≥–∏', lat: 50.074, lng: 14.440 },
    { name: '–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ø–æ–ª—ñ—Ü—ñ—ó', lat: 50.078, lng: 14.435 },
    { name: '–ü—É–Ω–∫—Ç –º–µ–¥–∏—á–Ω–æ—ó –¥–æ–ø–æ–º–æ–≥–∏', lat: 50.071, lng: 14.415 },
    { name: '–°–æ—Ü—ñ–∞–ª—å–Ω–∏–π —Ü–µ–Ω—Ç—Ä', lat: 50.079, lng: 14.425 },
    { name: '–¶–µ–Ω—Ç—Ä –ø—Ä–∞—Ü–µ–≤–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è', lat: 50.077, lng: 14.428 },
    { name: '–ì—Ä–æ–º–∞–¥—Å—å–∫–∏–π —Ü–µ–Ω—Ç—Ä', lat: 50.072, lng: 14.422 },
    { name: '–ê–ø—Ç–µ–∫–∞ XYZ', lat: 50.075, lng: 14.427 },
    { name: '–ú–µ–¥–∏—á–Ω–∏–π –ø—É–Ω–∫—Ç', lat: 50.083, lng: 14.419 },
    { name: '–í–æ–ª–æ–Ω—Ç–µ—Ä—Å—å–∫–∏–π —à—Ç–∞–±', lat: 50.076, lng: 14.432 },
    { name: '–ü—É–Ω–∫—Ç –∑–±–æ—Ä—É –¥–æ–ø–æ–º–æ–≥–∏', lat: 50.074, lng: 14.438 },
    { name: '–ü—É–Ω–∫—Ç —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó', lat: 50.079, lng: 14.434 },
  ];

  points.forEach(p => {
    L.marker([p.lat, p.lng])
      .addTo(map)
      .bindPopup(`<b>${p.name}</b>`);
  });

  // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤–Ω–∏–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  function scrollMessagesToBottom() {
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  db.collection('messages')
    .orderBy('timestamp')
    .onSnapshot(snapshot => {
      messagesContainer.innerHTML = '';
      snapshot.forEach(doc => {
        const data = doc.data();
        addMessageToDOM(data.text, data.imageUrl, data.userNick, data.userId === (currentUser ? currentUser.uid : null));
      });
      scrollMessagesToBottom();
    });
</script>
</body>
</html>

